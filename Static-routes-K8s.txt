
3 bare metal servers:


Static Routes


192.10.1.1 (master)   -> 10.10.1.0 (10.10.1.1….)

192.10.1.2 (worker1) -> 10.10.2.0

192.10.1.3 (worker2) -> 10.10.3.0


ssh 192.10.1.1

route add -net 10.10.2.0 netmask 255.255.0.0 gw 192.10.1.2

route add -net 10.10.3.0 netmask 255.255.0.0 gw 192.10.1.3


ssh 192.10.1.2 

route add -net 10.10.1.0 netmask 255.255.0.0 gw 192.10.1.1

route add -net 10.10.3.0 netmask 255.255.0.0 gw 192.10.1.3


ssh 192.10.1.3 

route add -net 10.10.1.0 netmask 255.255.0.0 gw 192.10.1.1

route add -net 10.10.2.0 netmask 255.255.0.0 gw 192.10.1.2


Router (default gateway) L3 Routes

route add -net 10.10.1.0 netmask 255.255.0.0 gw 192.10.1.1

route add -net 10.10.2.0 netmask 255.255.0.0 gw 192.10.1.2

route add -net 10.10.3.0 netmask 255.255.0.0 gw 192.10.1.3

route add -net 10.10.4.0 netmask 255.255.0.0 gw 192.10.1.4


Master talks to worker (kubelet 10080) (kubectl logs, exec) or SSH

Master -> etcd (etcd port)

DNS pod (53)


Kubelet, kube-proxy -> master (443, 6443, or 8080)



Calico

https://www.projectcalico.org


Flannel

https://github.com/coreos/flannel


Overlay 

•Bad performance


•More complexity

•


